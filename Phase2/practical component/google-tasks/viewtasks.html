<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View task</title>
</head>

<body>

    <h1>View tasks</h1>
    <button id="button">Get Tasks</button>
    <p id="task"></p>
    <p>Go back to <a href="/">Home screen</a></p>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script>
        async function getTasks() {
            // JavaScript
            function getCookie(name) {
                const value = `; ${document.cookie}`;
                const parts = value.split(`; ${name}=`);
                if (parts.length === 2) return parts.pop().split(';').shift();
            }

            const accessToken = getCookie('AccessToken');
            console.log(accessToken); // Outputs "ACCESS_TOKEN"

            //https://developers.google.com/tasks/reference/rest/v1/tasklists/list
            /*axios.get(
                `https://tasks.googleapis.com/tasks/v1/users/@me/lists`,
                {
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${accessToken}`
                    }
                }
            )
                .then(function (response) {
                    console.log(response)
                })
                .catch(function (error) {
                    console.log(error)
                });*/
        }
        const button = document.getElementById('button');
        button.addEventListener('click', getTasks);
    </script>

</body>

</html>